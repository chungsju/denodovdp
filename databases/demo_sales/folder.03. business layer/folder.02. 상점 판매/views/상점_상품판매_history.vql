CREATE OR REPLACE VIEW "상점_상품판매_HISTORY" FOLDER = '/03. business layer/02. 상점 판매' DESCRIPTION = '판매일자와 판매 상품 정보를 포함한 상점 판매 History'  AS SELECT "HIS_STORE_SALES"."SS_SOLD_DATE_SK" AS "SS_SOLD_DATE_SK", "HIS_STORE_SALES"."SS_SOLD_TIME_SK" AS "SS_SOLD_TIME_SK", "HIS_STORE_SALES"."SS_ITEM_SK" AS "SS_ITEM_SK", "HIS_STORE_SALES"."SS_CUSTOMER_SK" AS "SS_CUSTOMER_SK", "HIS_STORE_SALES"."SS_CDEMO_SK" AS "SS_CDEMO_SK", "HIS_STORE_SALES"."SS_HDEMO_SK" AS "SS_HDEMO_SK", "HIS_STORE_SALES"."SS_ADDR_SK" AS "SS_ADDR_SK", "HIS_STORE_SALES"."SS_STORE_SK" AS "SS_STORE_SK", "HIS_STORE_SALES"."SS_PROMO_SK" AS "SS_PROMO_SK", "HIS_STORE_SALES"."SS_TICKET_NUMBER" AS "SS_TICKET_NUMBER", "HIS_STORE_SALES"."SS_QUANTITY" AS "SS_QUANTITY", "HIS_STORE_SALES"."SS_WHOLESALE_COST" AS "SS_WHOLESALE_COST", "HIS_STORE_SALES"."SS_LIST_PRICE" AS "SS_LIST_PRICE", "HIS_STORE_SALES"."SS_SALES_PRICE" AS "SS_SALES_PRICE", "HIS_STORE_SALES"."SS_EXT_DISCOUNT_AMOUNT" AS "SS_EXT_DISCOUNT_AMOUNT", "HIS_STORE_SALES"."SS_EXT_SALES_PRICE" AS "SS_EXT_SALES_PRICE", "HIS_STORE_SALES"."SS_EXT_WHOLESALE_COST" AS "SS_EXT_WHOLESALE_COST", "HIS_STORE_SALES"."SS_EXT_LIST_PRICE" AS "SS_EXT_LIST_PRICE", "HIS_STORE_SALES"."SS_EXT_TAX" AS "SS_EXT_TAX", "HIS_STORE_SALES"."SS_COUPON_AMT" AS "SS_COUPON_AMT", "HIS_STORE_SALES"."SS_NET_PAID" AS "SS_NET_PAID", "HIS_STORE_SALES"."SS_NET_PAID_INC_TAX" AS "SS_NET_PAID_INC_TAX", "HIS_STORE_SALES"."SS_NET_PROVIT" AS "SS_NET_PROVIT", "HIS_ITEM"."I_ITEM_SK" AS "I_ITEM_SK", "HIS_ITEM"."I_ITEM_ID" AS "I_ITEM_ID", "HIS_ITEM"."I_REC_START_DATE" AS "I_REC_START_DATE", "HIS_ITEM"."I_REC_END_DATE" AS "I_REC_END_DATE", "HIS_ITEM"."I_ITEM_DESC" AS "I_ITEM_DESC", "HIS_ITEM"."I_CURRENT_PRICE" AS "I_CURRENT_PRICE", "HIS_ITEM"."I_WHOLESALE_COST" AS "I_WHOLESALE_COST", "HIS_ITEM"."I_BRAND_ID" AS "I_BRAND_ID", trim("HIS_ITEM"."I_BRAND") AS "I_BRAND", "HIS_ITEM"."I_CLASS_ID" AS "I_CLASS_ID", "HIS_ITEM"."I_CLASS" AS "I_CLASS", "HIS_ITEM"."I_CATEGORY_ID" AS "I_CATEGORY_ID", "HIS_ITEM"."I_CATEGORY" AS "I_CATEGORY", "HIS_ITEM"."I_MANUFACT_ID" AS "I_MANUFACT_ID", "HIS_ITEM"."I_MANUFACT" AS "I_MANUFACT", "HIS_ITEM"."I_SIZE" AS "I_SIZE", "HIS_ITEM"."I_FORMULATION" AS "I_FORMULATION", "HIS_ITEM"."I_COLOR" AS "I_COLOR", "HIS_ITEM"."I_UNITS" AS "I_UNITS", "HIS_ITEM"."I_CONTAINER" AS "I_CONTAINER", "HIS_ITEM"."I_MANAGER_ID" AS "I_MANAGER_ID", "HIS_ITEM"."I_PRODUCT_NAME" AS "I_PRODUCT_NAME", "HIS_DATE_DIM"."D_DATE_SK" AS "D_DATE_SK", "HIS_DATE_DIM"."D_DATE_ID" AS "D_DATE_ID", "HIS_DATE_DIM"."D_DATE" AS "D_DATE", "HIS_DATE_DIM"."D_MONTH_SEQ" AS "D_MONTH_SEQ", "HIS_DATE_DIM"."D_WEEK_SEQ" AS "D_WEEK_SEQ", "HIS_DATE_DIM"."D_QUARTER_SEQ" AS "D_QUARTER_SEQ", "HIS_DATE_DIM"."D_YEAR" AS "D_YEAR", "HIS_DATE_DIM"."D_DOW" AS "D_DOW", "HIS_DATE_DIM"."D_MOY" AS "D_MOY", "HIS_DATE_DIM"."D_DOM" AS "D_DOM", "HIS_DATE_DIM"."D_QOY" AS "D_QOY", "HIS_DATE_DIM"."D_FY_YEAR" AS "D_FY_YEAR", "HIS_DATE_DIM"."D_FY_QUARTER_SEQ" AS "D_FY_QUARTER_SEQ", "HIS_DATE_DIM"."D_FY_WEEK_SEQ" AS "D_FY_WEEK_SEQ", "HIS_DATE_DIM"."D_DAY_NAME" AS "D_DAY_NAME", "HIS_DATE_DIM"."D_QUARTER_NAME" AS "D_QUARTER_NAME", "HIS_DATE_DIM"."D_HOLIDAY" AS "D_HOLIDAY", "HIS_DATE_DIM"."D_WEEKEND" AS "D_WEEKEND", "HIS_DATE_DIM"."D_FOLLOWING_HOLIDAY" AS "D_FOLLOWING_HOLIDAY", "HIS_DATE_DIM"."D_FIRST_DOM" AS "D_FIRST_DOM", "HIS_DATE_DIM"."D_LAST_DOM" AS "D_LAST_DOM", "HIS_DATE_DIM"."D_SAME_DAY_LY" AS "D_SAME_DAY_LY", "HIS_DATE_DIM"."D_SAME_DAY_LQ" AS "D_SAME_DAY_LQ", "HIS_DATE_DIM"."D_CURRENT_DAY" AS "D_CURRENT_DAY", "HIS_DATE_DIM"."D_CURRENT_WEEK" AS "D_CURRENT_WEEK", "HIS_DATE_DIM"."D_CURRENT_MONTH" AS "D_CURRENT_MONTH", "HIS_DATE_DIM"."D_CURRENT_QUARTER" AS "D_CURRENT_QUARTER", "HIS_DATE_DIM"."D_CURRENT_YEAR" AS "D_CURRENT_YEAR" FROM ("HIS_STORE_SALES" AS "HIS_STORE_SALES" INNER JOIN "HIS_DATE_DIM" AS "HIS_DATE_DIM" ON "HIS_STORE_SALES"."SS_SOLD_DATE_SK" = "HIS_DATE_DIM"."D_DATE_SK" ) INNER JOIN "HIS_ITEM" AS "HIS_ITEM" ON "HIS_STORE_SALES"."SS_ITEM_SK" = "HIS_ITEM"."I_ITEM_SK"  WHERE "HIS_DATE_DIM"."D_YEAR" < 2017;

ALTER VIEW "상점_상품판매_HISTORY"
 LAYOUT ("HIS_STORE_SALES" = [322, 204, 200, 200], "HIS_DATE_DIM" = [590, 203, 200, 200], "HIS_ITEM" = [863, 202, 200, 200]);

